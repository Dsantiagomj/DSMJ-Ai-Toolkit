# MCP Safety & Compatibility

The dsmj-ai-toolkit is **100% safe** to use with existing MCP (Model Context Protocol) configurations.

## What the Toolkit Does

### During `dsmj-ai init`

The toolkit **ONLY** creates/modifies:

```
your-project/.claude/
├── agents/                    # NEW: Created by toolkit
│   ├── code-writer.md        # Symlink to global toolkit
│   └── code-reviewer.md      # Symlink to global toolkit
├── skills/                    # NEW: Created by toolkit
│   ├── react-19/             # Symlink to global toolkit
│   ├── security/             # Symlink to global toolkit
│   └── context-monitor/      # Symlink to global toolkit
└── CLAUDE.md                  # NEW: Only if doesn't exist
```

### What the Toolkit NEVER Touches

```
your-project/.claude/
├── settings.json              # ✅ PRESERVED: Your Claude settings
├── mcp.json                   # ✅ PRESERVED: MCP server configs
├── config.json                # ✅ PRESERVED: Any other configs
├── mcp_servers.json           # ✅ PRESERVED: MCP server configs
└── [any other existing files] # ✅ PRESERVED: All other files
```

## Safety Checks

The installation script includes built-in safety checks:

1. **Detects existing `.claude/` directory**
2. **Detects existing MCP configurations** (settings.json, mcp.json, etc.)
3. **Warns you** before making any changes
4. **Shows exactly** what will be added
5. **Asks for confirmation** before proceeding

### Example Safety Prompt

```bash
$ dsmj-ai init

⚠  .claude/ directory already exists
ℹ  Detected existing configuration files (MCP servers, settings, etc.)
ℹ  Toolkit will ONLY add:
  - .claude/agents/ (symlinks to toolkit agents)
  - .claude/skills/ (symlinks to toolkit skills)
  - .claude/CLAUDE.md (if it doesn't exist)

ℹ  Toolkit will NOT touch:
  - .claude/settings.json
  - .claude/mcp.json
  - .claude/config.json
  - Any other existing files

Continue with additive installation? (y/N):
```

## How MCP and Toolkit Work Together

### MCP Servers (Your Existing Setup)
MCP servers provide external context and tools:
- `@context7` - Current framework documentation
- `@github` - GitHub integration
- `@filesystem` - File operations
- Custom MCP servers you've configured

### Toolkit Agents & Skills
The toolkit adds:
- **Agents**: Specialist behaviors (code-writer, code-reviewer)
- **Skills**: Domain knowledge (React, security, etc.)
- **CLAUDE.md**: Project configuration and core rules

**These are complementary**:
- MCP servers provide **external data sources**
- Toolkit provides **behavior patterns and domain knowledge**
- They work together, not against each other

## Example: Using Both

You can use MCP servers alongside toolkit agents:

```
User: "Add authentication using best practices"

Main Claude (Orchestrator):
  1. References security skill (toolkit) for OWASP patterns
  2. May use @context7 MCP server for current framework docs
  3. Spawns code-writer (toolkit agent)

code-writer:
  1. References security + react-19 skills (toolkit)
  2. May use @github MCP to check existing auth patterns in repo
  3. Implements auth with best practices
  4. Returns summary

Result: MCP servers and toolkit work together seamlessly!
```

## Verifying Safety

After running `dsmj-ai init`, check what was created:

```bash
# See all symlinks (toolkit additions)
find .claude -type l

# See all regular files (your existing configs)
find .claude -type f

# Verify MCP config still exists
cat .claude/settings.json  # or mcp.json, etc.
```

Your MCP configurations will be exactly as they were before.

## Rollback (If Needed)

If you ever want to remove the toolkit:

```bash
# Remove toolkit additions only
rm -rf .claude/agents
rm -rf .claude/skills
rm .claude/CLAUDE.md  # Only if generated by toolkit

# Your MCP configs remain untouched!
```

## FAQ

**Q: Will the toolkit override my MCP server configurations?**
A: No. The toolkit never touches MCP configuration files.

**Q: Can I use both context7 MCP and toolkit skills?**
A: Yes! They complement each other. MCP provides external data, skills provide patterns.

**Q: What if I already have a `.claude/` directory?**
A: The toolkit detects this and asks before proceeding. It only adds subdirectories.

**Q: Will toolkit agents conflict with MCP tools?**
A: No. Agents define behaviors, MCP tools provide capabilities. They work together.

**Q: Can I disable toolkit agents temporarily?**
A: Yes. Just remove the symlinks in `.claude/agents/`. Your MCP servers keep working.

**Q: What if I have custom `.claude/CLAUDE.md` already?**
A: The toolkit skips generation if CLAUDE.md exists. Your file is preserved.

---

**Bottom line**: The toolkit is **additive**. It adds specialized agents and skills without touching your existing MCP or Claude configurations.
